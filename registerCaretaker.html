<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rejestracja opiekuna świetlicy</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body class="bg-gray-50 text-gray-900">
  <header class="p-4 bg-white shadow">
    <div class="max-w-4xl mx-auto flex items-center justify-between gap-3 flex-wrap">
      <div>
        <h1 class="text-xl font-bold">Rejestracja opiekuna świetlicy</h1>
        <p class="text-sm text-gray-500">Utwórz konto opiekuna i umożliw mu korzystanie z panelu.</p>
      </div>
      <nav class="flex items-center gap-3 text-sm">
        <a href="./index.html" class="text-blue-700 hover:underline">Aplikacja rezerwacyjna</a>
        <a href="./caretakerLogin.html" class="text-blue-700 hover:underline">Panel opiekuna</a>
      </nav>
    </div>
  </header>

  <main class="max-w-4xl mx-auto p-4 space-y-4">
    <section class="bg-white rounded-2xl shadow-md p-5 space-y-6">
      <div class="space-y-2">
        <h2 class="text-lg font-semibold">Dane opiekuna</h2>
        <p class="text-sm text-gray-600">
          Wypełnij formularz, aby umożliwić wysyłkę powiadomień oraz logowanie opiekuna do panelu.
        </p>
      </div>
      <form id="caretakerForm" class="space-y-5">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label for="firstName" class="block text-sm font-medium text-gray-700">Imię</label>
            <input
              id="firstName"
              name="first_name"
              type="text"
              required
              autocomplete="given-name"
              class="mt-1 w-full border rounded-xl px-3 py-2"
            />
          </div>
          <div>
            <label for="lastName" class="block text-sm font-medium text-gray-700">Nazwisko lub nazwa</label>
            <input
              id="lastName"
              name="last_name_or_company"
              type="text"
              required
              autocomplete="family-name"
              class="mt-1 w-full border rounded-xl px-3 py-2"
            />
          </div>
          <div>
            <label for="phone" class="block text-sm font-medium text-gray-700">Telefon</label>
            <input
              id="phone"
              name="phone"
              type="tel"
              required
              autocomplete="tel"
              class="mt-1 w-full border rounded-xl px-3 py-2"
            />
          </div>
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700">E-mail</label>
            <input
              id="email"
              name="email"
              type="email"
              required
              autocomplete="email"
              class="mt-1 w-full border rounded-xl px-3 py-2"
            />
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label for="login" class="block text-sm font-medium text-gray-700">Login</label>
            <input
              id="login"
              name="login"
              type="text"
              required
              minlength="3"
              autocomplete="username"
              class="mt-1 w-full border rounded-xl px-3 py-2"
            />
          </div>
          <div>
            <label for="password" class="block text-sm font-medium text-gray-700">Hasło</label>
            <input
              id="password"
              name="password"
              type="password"
              required
              minlength="8"
              autocomplete="new-password"
              class="mt-1 w-full border rounded-xl px-3 py-2"
            />
          </div>
          <div>
            <label for="passwordConfirm" class="block text-sm font-medium text-gray-700">Powtórz hasło</label>
            <input
              id="passwordConfirm"
              name="passwordConfirm"
              type="password"
              required
              minlength="8"
              autocomplete="new-password"
              class="mt-1 w-full border rounded-xl px-3 py-2"
            />
          </div>
        </div>

        <div class="flex items-center gap-3 flex-wrap">
          <button
            id="submitCaretaker"
            type="submit"
            class="px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold disabled:opacity-40 disabled:cursor-not-allowed"
          >
            Utwórz konto opiekuna
          </button>
          <span id="formMessage" class="text-sm text-gray-500"></span>
        </div>
      </form>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="./supabase-config.js"></script>
  <script type="module" src="./js/caretakers/register.js"></script>
</body>
</html>
